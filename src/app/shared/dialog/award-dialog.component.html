<div class="loading" *ngIf="showLoading" >
    <img class="loading-image" id="loading8" src="/assets/image/loading-08.png" />
    <img class="loading-image" id="loading7" src="/assets/image/loading-07.png" />
    <img class="loading-image" id="loading6" src="/assets/image/loading-06.png" />
    <img class="loading-image" id="loading5" src="/assets/image/loading-05.png" />
    <img class="loading-image" id="loading4" src="/assets/image/loading-04.png" />
    <img class="loading-image" id="loading3" src="/assets/image/loading-03.png" />
    <img class="loading-image" id="loading2" src="/assets/image/loading-02.png" />
    <img class="loading-image" id="loading1" src="/assets/image/loading-01.png" />
</div>

<div class="container" *ngIf="!showLoading" >

    <h1 *ngIf="action == 'create'" mat-dialog-title class="container-h1">CREAR PREMIO</h1>
    <h1 *ngIf="action == 'edit'" mat-dialog-title class="container-h1">EDITAR PREMIO</h1>
    <h1 *ngIf="action == 'delete'" mat-dialog-title class="container-h1">BORRAR PREMIO</h1>
    <h1 *ngIf="action == 'confirm'" mat-dialog-title class="container-h1">CONFIRMAR PREMIO</h1>
    <h1 *ngIf="action == 'cancel'" mat-dialog-title class="container-h1">CANCELAR PREMIO</h1>

    <button mat-button class="container-button" (click)="closeDialog()">X</button>

    <div *ngIf="action == 'redeem' || action == 'delete'" >

        <div class="award-image-popup-container d-flex justify-content-center">
            <img [src]="award.src" [alt]="award.name" class="award-image-popup" >
        </div>

        <h1 class="container-h1">{{award.score}} puntos</h1>
        
        <div class="row" >
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 d-flex justify-content-center">
                <h2 class="container-h2">{{award.name}}</h2>
            </div>

            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 d-flex justify-content-center">
                    <textarea matInput readonly class="award-textarea"
                        cdkTextareaAutosize
                        cdkAutosizeMinRows="1"
                        cdkAutosizeMaxRows="5"
                    >
                        {{award.description}}    
                    </textarea>
            </div>
        </div>

        <div *ngIf="action == 'redeem' && award?.allowRedeem" class="row d-flex justify-content-center awards-popup-button-container">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 d-flex justify-content-center" style="padding: unset;">
                <button type="button" (click)="redeemPoints()" class="awards-popup-button"
                >Canjear</button>
            </div>
        </div>

        <div *ngIf="action == 'delete'" class="d-flex justify-content-center">
            <button style="background-color: #d50000 !important;"
            class="d-flex justify-content-center"
            color="primary"
            mat-raised-button
            >
            BORRAR PREMIO
            </button>
        </div>

    </div>

    <div *ngIf="action == 'create' || action == 'edit'" >

        <div *ngIf="action == 'create'" class="d-flex justify-content-center">
            <button
            class="d-flex justify-content-center"
            color="primary"
            mat-raised-button
            type="submit"
            >
            CREAR PREMIO
            </button>
        </div>

        <div *ngIf="action == 'edit'" class="d-flex justify-content-center">
            <button
            class="d-flex justify-content-center"
            color="primary"
            mat-raised-button
            type="submit"
            >
            EDITAR PREMIO
            </button>
        </div>

    </div>

</div>

<style>
    .container {
        position: relative;
        border: 5px solid var(--primary);
        border-radius: 10px;
        color: var(--primary);
        overflow: hidden;
    }
    .container::-webkit-scrollbar {
        width: 5px;
    }
    .container::-webkit-scrollbar-thumb {
        background: grey;
        border-radius: 10px;
        height: 10px;
    }
    .container::-webkit-scrollbar-track {
        width: 2px;
    }
    .container-h1 {
        text-align: center;
        font-size: 24px;
        font-weight: 600 !important;
        color: var(--primary);
        margin-bottom: 8px;
    }
    .container-h2 {
        text-align: center;
        font-size: 26px;
        font-weight: 700 !important;
        color: black
    }
    .container-button{
        position: absolute;
        border: none;
        color: #ffffff;
        background-color: var(--primary);
        right: 0px;
        top:0px;
    }

    ::ng-deep .mat-horizontal-stepper-header:not([ng-reflect-active="true"]) {
        pointer-events: none !important;
    }

    ::ng-deep .mat-input-element {
        border-color: var(--primary);
    }

    ::ng-deep .mat-form-field-outline-start {
        border-color: var(--primary);
    }
    ::ng-deep .mat-form-field-appearance-outline .mat-form-field-outline-end {
        border-color: var(--primary);
    }
    ::ng-deep .mat.label {
        display: none;
    }
    .section-title {
        margin-bottom: 20px;
    }
    .addButton {
        display: flex;
        justify-content: flex-end;
    }
    .user-details-container {
        padding: 20px;
        text-align: center;
    }
    .full-width {
     width: 100%;
    }
    .error-message {
        font-size: 12px;
    }
    .submit-btn {
        margin-bottom: 16px;
        width: 100%;
    }
    .award-image-popup-container {
        background-color: var(--secondary);
        margin: 56px 4px 16px 4px;
    }
    .award-image-popup {
        width: 250px;
        height: auto;
        object-fit: scale-down;
    }
    .awards-popup-button-container {
        width: 100%;
        margin: 16px 0 40px 0;
    }
    .awards-popup-button {
        background-color: var(--primary);
        color: #fff;
        font-size: 16px;
        border: solid;
        border-radius: 32px;
        width: 180px;
        height: 48px;
        text-wrap: nowrap;
        pointer-events: auto;
        cursor: pointer;
    }
    .awards-popup-button:hover {
        background-color: var(--secondary);
    }
    .award-textarea {
        width: 100%;
        margin-left: 16px;
        border: none;
        font-weight: 400 !important;
        scrollbar-width: thin;
    }
</style>
